\chapter{Аналитическая часть}

В данном разделе будет приведена теория, необходимая для разработки и реализации последовательного и параллельного алгоритма трассировки лучей.

\section{Алгоритм трасссировки ллучей}

 Алгоритм трассировки лучей работает в пространстве изображений и имеет 2 подхода: прямой и обратный.
 
 Основная идея алгоритма прямой трассировки лучей состоит в том, что наблюдатель видит объекты благодаря световым лучам, которые испускает некоторый источник и которые падают на объект, отражаются, преломляются или проходят через него и в результате достигают зрителя. Если проследить за лучами, то становится понятно, что среди них лишь малая часть дойдет до наблюдателя, что показано на рисунке \ref{img:tras_img} слева, а значит большая часть вычислений произведена напрасно.
 
 
 \img{60mm}{tras_img}{Прямая и обратная трассировки лучей}
 

 Заменой данному алгоритму служит метод обратной трассировки лучей, который отслеживает лучи в обратном направлении. В ходе работы испускаются лучи от наблюдателя, как показано на рисунке \ref{img:tras_img} справа, и ищутся пересечения луча и всех объектов сцены.
  
 Каждый раз, когда луч пересекает некоторую поверхность, из точки пересечения испускаются новые лучи - отраженный и преломленный. Пути этих лучей отслеживаются по всей модели, и если лучи пересекают другие поверхности, то снова испускаются лучи. 
 
 В каждой точке, где луч пересекает поверхность, рисуется луч тени из точки пересечения к каждому источнику света. Если этот луч пересекает другую поверхность перед тем, как достигнуть источника света, то на ту поверхность, с которой был послан луч, падает тень с поверхности, блокирующей свет \cite{trass}.
 


\section{Параллельная реализация алгоритма трассировки лучей}

Поскольку алгоритм обратной трассировки лучей обрабатывает каждый пиксель экрана независимо, можно использовать параллельные вычисления для уменьшения времени его работы, разбив экран на некоторые части. Наиболее часто используется горизонтальное или вертикальное разбиение \cite{article_paral}.


\section*{Вывод}
В данном разделе были рассмотрены идеи и материалы, необходимые для разработки и реализации последовательного и параллельного алгоритма трассировки лучей.

